// *** WARNING: DO NOT MODIFY *** This is a generated JavaScript source code!
//
// Generated by LF-ET 2.3.0 (240216a), https://www.lohrfink.de/lfet
// From decision table
// "../htmlSanityCheck.js/lfet/checker/MissingImageFilesChecker.lfet"
// 17.02.2024 23:55
//

// Prolog Standard ---->
// profile LFET.Java.Prolog.Standard.Interface.Dt.ini not found
// used LF-ET 2.3.0 (240216a) build in default

// cav = condition and action values
const {SetCurrentDirTo_PTC, SetCurrentDirTo_CONF} = require('./IMissingImageFilesChecker.js')

class MissingImageFilesCheckerDecisionLogic {

    #ruleID = "";

    getRuleID() {
        return this.#ruleID
    }

    getLastRuleID() {
        return "14"
    }

    execute(/* IMissingImageFilesChecker */ iface, model) {
    // Prolog Standard <----

        let ruleGroup = 1
        let exit = false

        // iface.doSetRuleGroup(1, "1", "Init")

        while (!exit) {

            exit = true

            if (ruleGroup === 1 /* Step 1 - Init */) {
                if (iface.isPageToCheckFileDefined(model)) {
                    // Rule R01 ---->

                    this.#ruleID = "#11.14"
                    iface.doTrace("MissingImageFilesChecker", "20240217.235531", 4, 1)

                    iface.doSetCurrentDirTo(SetCurrentDirTo_PTC, model) // PTC - Page to check parent directory
                    iface.doGetAllImageTags(model)

                    ruleGroup++
                    exit = false

                    // iface.doSetRuleGroup(2, "2", "Nein")

                    this.#ruleID = "#11.14"
                    iface.doTraceAfterRule("MissingImageFilesChecker", "20240217.235531", 4, 1, model)

                    // Rule R01 <----
                } else {
                    // Rule R02 ---->

                    this.#ruleID = "#12.14"
                    iface.doTrace("MissingImageFilesChecker", "20240217.235531", 4, 2, model)

                    iface.doSetCurrentDirTo(SetCurrentDirTo_CONF, model) // CONF - base directory from configuration
                    iface.doGetAllImageTags(model)

                    ruleGroup++
                    exit = false

                    // iface.doSetRuleGroup(2, "2", "Nein")

                    this.#ruleID = "#12.14"
                    iface.doTraceAfterRule("MissingImageFilesChecker", "20240217.235531", 4, 2, model)

                    // Rule R02 <----
                }
            } else /* Step 2 - Nein */ {
                if (iface.isOneMoreImageTagToCheckAvailable(model)) {
                    // Rule R03 ---->

                    this.#ruleID = "#13.14"
                    iface.doTrace("MissingImageFilesChecker", "20240217.235531", 4, 3, model)

                    iface.doNextImageTag(model)

                    ruleGroup = 2
                    exit = false

                    // iface.doSetRuleGroup(2, "2", "Nein")

                    this.#ruleID = "#13.14"
                    iface.doTraceAfterRule("MissingImageFilesChecker", "20240217.235531", 4, 3, model)

                    // Rule R03 <----
                } else {
                    // Rule R04 ---->

                    this.#ruleID = "#14.14"
                    iface.doTrace("MissingImageFilesChecker", "20240217.235531", 4, 4, model)

                    exit = true

                    // iface.doSetRuleGroup(0, "", "")

                    this.#ruleID = "#14.14"
                    iface.doTraceAfterRule("MissingImageFilesChecker", "20240217.235531", 4, 4, model)

                    // Rule R04 <----
                }
            }

        }

        // Epilog Standard ---->
        // profile LFET.Java.Epilog.Standard.Interface.Dt.ini not found
        // used LF-ET 2.3.0 (240216a) build in default

    }

}

// Epilog Standard <----
module.exports = MissingImageFilesCheckerDecisionLogic
// End of generated JavaScript source code
// Generated by LF-ET 2.3.0 (240216a), https://www.lohrfink.de/lfet
